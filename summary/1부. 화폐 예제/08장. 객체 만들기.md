# ğŸ–¥ 08ì¥. ê°ì²´ ë§Œë“¤ê¸°

ë‘ `times()` êµ¬í˜„ ì½”ë“œê°€ ê±°ì˜ ë˜‘ê°™ë‹¤. 

**Dollar**

```java
public Dollar times(int multiplier) {
    return new Dollar(amount * multiplier);
}
```

**Franc**

```java
public Franc times(int multiplier) {
		return new Franc(amount * multiplier);
}
```

&nbsp;

ì–‘ìª½ ëª¨ë‘ `Money`ë¥¼ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ë©´ ë” ë¹„ìŠ·í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. 

**Dollar**

```java
public Money times(int multiplier) {
    return new Dollar(amount * multiplier);
}
```

**Franc**

```java
public Money times(int multiplier) {
		return new Franc(amount * multiplier);
}
```

&nbsp;

ë‹¤ìŒ ë‹¨ê³„ë¡œ ë­˜ í•´ì•¼ í• ì§€ ëª…í™•í•˜ì§€ ì•Šë‹¤.  

`Money`ì˜ ë‘ í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ê·¸ë‹¤ì§€ ë§ì€ ì¼ì„ í•˜ëŠ” ê²ƒ ê°™ì§€ ì•Šìœ¼ë¯€ë¡œ ì•„ì˜ˆ ì œê±°í•´ë²„ë¦¬ê³  ì‹¶ë‹¤. (**!**)  
ê·¸ëŸ°ë° í•œë²ˆì— ê·¸ë ‡ê²Œ í° ë‹¨ê³„ë¥¼ ë°ŸëŠ” ê²ƒì€ TDDë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ë³´ì—¬ì£¼ê¸°ì— ì ì ˆí•˜ì§€ ì•Šì„ ê²ƒ ê°™ë‹¤.

í•˜ìœ„ í´ë˜ìŠ¤ì— ëŒ€í•œ ì§ì ‘ì ì¸ ì°¸ì¡°ê°€ ì ì–´ì§„ë‹¤ë©´ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ í•œ ë°œì§ ë” ë‹¤ê°€ì„°ë‹¤ê³  í•  ìˆ˜ ìˆê² ë‹¤.  
`Money`ì— `Dollar`ë¥¼ ë°˜í™˜í•˜ëŠ” íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ë„ì…í•  ìˆ˜ ìˆë‹¤.

```java
@Test
@DisplayName("ë‹¬ëŸ¬ ê¸ˆì•¡ì„ ì£¼ì‹ ìˆ˜ì— ê³±í•œ ê¸ˆì•¡ì„ ë°˜í™˜í•œë‹¤.")
void testDollarMultiplication() {
    Dollar five = Money.dollar(5);
    assertEquals(five.times(2), new Dollar(10));
    assertEquals(five.times(3), new Dollar(15));
}
```

êµ¬í˜„ ì½”ë“œëŠ” `Dollar`ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤.

```java
public static Dollar dollar(int amount) {
	  return new Dollar(amount);
}
```

`Dollar`ì— ëŒ€í•œ ì°¸ì¡°ê°€ ì‚¬ë¼ì§€ê¸¸ ë°”ë¼ë¯€ë¡œ í…ŒìŠ¤íŠ¸ì˜ ì„ ì–¸ë¶€ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¿”ì•¼ í•œë‹¤.

```java
@Test
@DisplayName("ë‹¬ëŸ¬ ê¸ˆì•¡ì„ ì£¼ì‹ ìˆ˜ì— ê³±í•œ ê¸ˆì•¡ì„ ë°˜í™˜í•œë‹¤.")
void testDollarMultiplication() {
    Money five = Money.dollar(5);
    assertEquals(five.times(2), new Dollar(10));
    assertEquals(five.times(3), new Dollar(15));
}
```

ì»´íŒŒì¼ëŸ¬ê°€ `Money`ì—ëŠ” `times()`ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œë ¤ì¤€ë‹¤.

ì§€ê¸ˆì€ êµ¬í˜„í•  ì¤€ë¹„ê°€ ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, `Money`ë¥¼ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë³€ê²½í•œ í›„ `Money.times()`ë¥¼ ì„ ì–¸í•œë‹¤.

**Money**

```java
public abstract class Money {

    protected int amount;

    public static Dollar dollar(int amount) {
        return new Dollar(amount);
    }

    public boolean equals(Object object) {
        Money money = (Money) object;
        return this.amount == money.amount
                && getClass().equals(money.getClass());
    }

    abstract Money times(int multiplier);
}
```

ì´ì œ íŒ©í† ë¦¬ ë©”ì„œë“œì˜ ì„ ì–¸ì„ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

```java
public static Money dollar(int amount) {
    return new Dollar(amount);
}
```

ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ë¯€ë¡œ ë­”ê°€ë¥¼ ê¹¨íŠ¸ë¦¬ì§„ ì•Šì•˜ë‹¤.  
ì´ì œ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ë‚˜ë¨¸ì§€ ëª¨ë“  ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
@SpringBootTest
public class ë‹¤ì¤‘í†µí™” {

    @Test
    @DisplayName("ë‹¬ëŸ¬ ê¸ˆì•¡ì„ ì£¼ì‹ ìˆ˜ì— ê³±í•œ ê¸ˆì•¡ì„ ë°˜í™˜í•œë‹¤.")
    void testDollarMultiplication() {
        Money five = Money.dollar(5);
        assertEquals(five.times(2), Money.dollar(10));
        assertEquals(five.times(3), Money.dollar(15));
    }

    @Test
    @DisplayName("í”„ë‘ ê¸ˆì•¡ì„ ì£¼ì‹ ìˆ˜ì— ê³±í•œ ê¸ˆì•¡ì„ ë°˜í™˜í•œë‹¤.")
    void testFrancMultiplication() {
        Franc five = new Franc(5);
        assertEquals(five.times(2), new Franc(10));
        assertEquals(five.times(3), new Franc(15));
    }

    @Test
    @DisplayName("ê°’ ê°ì²´ëŠ” equals()ë¥¼ ê°–ëŠ”ë‹¤.")
    void testEquality() {
        assertTrue(Money.dollar(5).equals(Money.dollar(5)));
        assertFalse(Money.dollar(5).equals(Money.dollar(6)));
        assertTrue(new Franc(5).equals(new Franc(5)));
        assertFalse(new Franc(5).equals(new Franc(6)));
        assertFalse(new Franc(5).equals(Money.dollar(5)));
    }
}
```

ì´ì œ ì „ë³´ë‹¤ ì¡°ê¸ˆ ë‚˜ì€ ìƒí™©ì´ë‹¤.  
ì–´ë–¤ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë„ `Dollar`ë¼ëŠ” í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¡´ì¬ë¥¼ ì•Œì§€ ëª»í•œë‹¤. 

í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¡´ì¬ë¥¼ í…ŒìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨(decoupling) ì–´ë–¤ ëª¨ë¸ ì½”ë“œì—ë„ ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ìƒì† êµ¬ì¡°ë¥¼ ë§ˆìŒëŒ€ë¡œ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ëë‹¤.

&nbsp;

`testFrancMultiplication`ì„ ë³€ê²½í•˜ë ¤ê³  í•˜ë‹ˆ ì´ í…ŒìŠ¤íŠ¸ê°€ ê²€ì‚¬í•˜ëŠ” ë¡œì§ì€ ëª¨ë‘ `Dollar` ê³±í•˜ê¸° í…ŒìŠ¤íŠ¸ì— ì˜í•´ ê²€ì‚¬ëœë‹¤ëŠ” ê²ƒì„ ì•Œì•„ì±˜ë‹¤. ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì‚­ì œí•œë‹¤ë©´ ì½”ë“œì— ëŒ€í•œ í™•ì‹ ì´ ì¡°ê¸ˆì´ë¼ë„ ì¤„ì–´ë“¤ê¹Œ?  
ê·¸ëŸ´ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë‹ˆ ì¼ë‹¨ ê·¸ëŒ€ë¡œ ë‚¨ê²¨ë‘ì. í•˜ì§€ë§Œ ì¢€ ìˆ˜ìƒì©ë‹¤.

```java
public static Franc franc(int amount) {
    return new Franc(amount);
}
```

`Franc`ì˜ íŒ©í† ë¦¬ ë©”ì„œë“œ êµ¬í˜„ì€ `Money.dollar()`ì™€ ìœ ì‚¬í•˜ë‹¤. 

```java
@SpringBootTest
public class ë‹¤ì¤‘í†µí™” {

    @Test
    @DisplayName("ë‹¬ëŸ¬ ê¸ˆì•¡ì„ ì£¼ì‹ ìˆ˜ì— ê³±í•œ ê¸ˆì•¡ì„ ë°˜í™˜í•œë‹¤.")
    void testDollarMultiplication() {
        Money five = Money.dollar(5);
        assertEquals(five.times(2), Money.dollar(10));
        assertEquals(five.times(3), Money.dollar(15));
    }

    @Test
    @DisplayName("í”„ë‘ ê¸ˆì•¡ì„ ì£¼ì‹ ìˆ˜ì— ê³±í•œ ê¸ˆì•¡ì„ ë°˜í™˜í•œë‹¤.")
    void testFrancMultiplication() {
        Franc five = Money.franc(5);
        assertEquals(five.times(2), Money.franc(10));
        assertEquals(five.times(3), Money.franc(15));
    }

    @Test
    @DisplayName("ê°’ ê°ì²´ëŠ” equals()ë¥¼ ê°–ëŠ”ë‹¤.")
    void testEquality() {
        assertTrue(Money.dollar(5).equals(Money.dollar(5)));
        assertFalse(Money.dollar(5).equals(Money.dollar(6)));
        assertTrue(Money.franc(5).equals(Money.franc(5)));
        assertFalse(Money.franc(5).equals(Money.franc(6)));
        assertFalse(Money.franc(5).equals(Money.dollar(5)));
    }
}
```

&nbsp;

ë‹¤ìŒ ì¥ì—ì„œ `times()`ì˜ ì¤‘ë³µì„ ê±°ë‘¬ë‚¼ ê²ƒì´ë‹¤.

&nbsp;

### ì •ë¦¬

- ë™ì¼í•œ ë©”ì„œë“œ(`times()`)ì˜ ë‘ ë³€ì´í˜• ë©”ì„œë“œ ì„œëª…ë¶€ë¥¼ í†µì¼ ì‹œí‚´ìœ¼ë¡œì¨ ì¤‘ë³µ ì œê±°ì— í•œë°œì§ ë‹¤ê°€ì„°ë‹¤.
- ìµœì†Œí•œ ë©”ì„œë“œ ì„ ì–¸ë¶€ë§Œì´ë¼ë„ ê³µí†µ ìƒìœ„ í´ë˜ìŠ¤(superclass)ë¡œ ì˜®ê²¼ë‹¤.
- íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ë„ì…í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì½˜í¬ë¦¬íŠ¸ í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¡´ì¬ ì‚¬ì‹¤ì„ ë¶„ë¦¬í•´ëƒˆë‹¤.
- í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì‚¬ë¼ì§€ë©´ ëª‡ëª‡ í…ŒìŠ¤íŠ¸ëŠ” ë¶ˆí•„ìš”í•œ ê²ƒì´ ëœë‹¤ëŠ” ê²ƒì„ ì¸ì‹í–ˆì§€ë§Œ ê·¸ëƒ¥ ë’€ë‹¤.

&nbsp;

## ğŸ–¥ ëŠë‚€ì 

*`Money`ì˜ ë‘ í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ê·¸ë‹¤ì§€ ë§ì€ ì¼ì„ í•˜ëŠ” ê²ƒ ê°™ì§€ ì•Šìœ¼ë¯€ë¡œ ì•„ì˜ˆ ì œê±°í•´ë²„ë¦¬ê³  ì‹¶ë‹¤* â† ì´ ë¶€ë¶„ì—ì„œ ë‹¹ì—°íˆ ì„œë¡œ ë‹¤ë¥¸ í™”í ê°ì²´ê°€ ì¡´ì¬í•´ì•¼ í•œë‹¤ê³  ìƒê°í•˜ë˜ì§€ë¼ ë†€ëë‹¤. ë‹¤ì‹œ ë³´ë‹ˆ ì •ë§ë¡œ ë‘ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì„œë¡œ ë‹¤ë¥¸ ì´ë¦„ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ì  ì´ì™¸ì—” ë³„ë‹¤ë¥¸ ì—­í• ì„ í•˜ê³  ìˆì§€ ì•Šì•˜ë‹¤.

í™”í ê°ì²´ê°„ ì¤‘ë³µ ë˜ëŠ” `times()`ë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ `Money` í´ë˜ìŠ¤ë¥¼ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë³€ê²½í•˜ëŠ” ê³¼ì •ì´ ì¸ìƒ ê¹Šì—ˆë‹¤. í•˜ì§€ë§Œ ì•„ì§ `times()`ì—ëŠ” ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì´ ì¡´ì¬í•˜ë¯€ë¡œ ì´ë¥¼ ì–´ë–»ê²Œ ì œê±°í•  ì§€ ë‹¤ìŒ ì „ê°œê°€ ê¶ê¸ˆí–ˆë‹¤.
